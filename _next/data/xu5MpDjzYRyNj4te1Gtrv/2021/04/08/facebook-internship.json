{"pageProps":{"post":{"id":3,"assetRoot":"2021/04/08","thumbnail":null,"title":"Interviewing for Facebook","description":" ","slug":"facebook-internship","date":"2021-04-08T19:48:35.000Z","content":"<p>I’m pleased to announce that I’m going to be a Production Engineering intern at Facebook this upcoming summer! Production engineering is similar to DevOps at other companies, but with software engineering tasks, too. Although it’s been over a month since my interviews, I hope I can leave a record of the process to help future applicants while I still remember some fragments of it.</p>\n<h2 id=\"first-contact\">First Contact</h2>\n<p>I was very busy during the Fall quarter and didn’t start applying to internships until very late, so I was afraid that I wouldn’t be able to get anything for the summer. Even though I had a significant amount of previous internship experience on my resume, many companies were scaling back their internship programs due to Coronavirus, which amplified my concerns.</p>\n<p>As such, I cast as wide of a net as possible and applied to many different companies of many different sizes. I hadn’t been expecting much to come out of my application to Facebook’s Software Engineering Internship, but I sent it anyways.</p>\n<h3 id=\"a-coding-test\">A Coding Test</h3>\n<p>Then, in early January, a recruiter from reached out to me, and sent me a link to a LeetCode-style test with 4 questions. I don’t recall what they were exactly, but there were 2 easy and 2 medium ones, going by LeetCode’s difficulty rankings. I was able to solve the easy ones quite quickly, but I could only solve one of the medium ones with the optimal solution. I could only figure out a suboptimal solution for the last one.</p>\n<p>As I was running out of time, I submitted it and dejectedly waited for the response. A few days later, the recruiter told me that I had moved onto the next stage!</p>\n<h3 id=\"a-command-line-test\">A Command Line Test</h3>\n<p>In the meantime, a different recruiter found my resume on a different website, and reached out to me about applying to the Production Engineering Internship. I applied to that, and my task was to complete a 20-question quiz about the Linux command line.</p>\n<p>I don’t recall the specifics, but there were a lot of questions about very specific behaviors of Linux commands, that essentially boiled down to:</p>\n<ul>\n<li>What command do you use to check CPU/Memory/IO/Network/process data? No, <code>top</code> is not one of your choices.</li>\n<li>What combination of flags do you use to accomplish a certain task with this command? No, you may not <code>--help</code> or consult the <code>man</code> pages.</li>\n</ul>\n<p>I’d consider myself familiar enough with the command line to do medium-complexity tasks in it, yet I did not know the answer to most of these questions. However, I received word that I had somehow passed this test as well!</p>\n<h2 id=\"information-sessions\">Information Sessions</h2>\n<p>After the assessments comes the interviews. Software engineering goes through 2 coding interviews, while production engineering goes through a coding interview and a systems interview. The coding interviews for both paths are basically identical.</p>\n<p>Thankfully, Facebook provided a ton of resources to help us get through the interviews. There were learning sessions for both types. They even allowed you to sign up for mock coding interviews!</p>\n<p>Personally, I would recommend going to the learning sessions. They tell you exactly what they expect from the interviews. I also did schedule myself for a single mock coding interview just for practice. If they offered a mock systems interview, I would have definitely scheduled myself for that one.</p>\n<h2 id=\"coding-interviews\">Coding Interviews</h2>\n<p>Anything covered in Data Structures would be fair game in the coding interview. This would include:</p>\n<ul>\n<li>Iteration</li>\n<li>Recursion</li>\n<li>Arrays</li>\n<li>Lists</li>\n<li>Graphs</li>\n<li>Stacks</li>\n<li>Trees</li>\n<li>Heaps</li>\n<li>Maps</li>\n<li>Time complexity: big-O notation, best case, and worst case</li>\n<li>… and more!</li>\n</ul>\n<p>Thankfully, they did not cover any dynamic programming stuff. I’m terrible at dynamic programming.</p>\n<p>Additionally, you are allowed to program in C++, Java, JavaScript, or Python. Of course, I chose Python.</p>\n<p>Some further recommendations:</p>\n<ul>\n<li>The code does not need to be syntactically correct. In fact, the code will not be evaluated, only read by the interviewer for correctness. You can actually write pseudocode if it gets the point across, too. Towards the end of one interview, I was having trouble writing an iterative solution, so gave up and I wrote a recursive and very pseudocodey solution. I seem to have passed that interview.</li>\n<li>The engineer interviewing you judges you based on your thought process. As such, you should be talking through every part you write. I would recommend doing some rubber duck debugging before coming to the coding interview.</li>\n<li>All coding interviews are identical. The 2nd one is not meant to be harder than the 1st one. It may be harder if you got a harder problem, though, in which case I’m sorry for your poor luck.</li>\n<li>You should ask your interviewer clarifying questions about the problem, possibly writing out some test cases to make sure that both of you are on the same page.</li>\n<li>The interviewer might actually give you some hints sometimes.</li>\n<li>It doesn’t matter if you write a recursive or iterative solution. I mostly wrote recursive solutions because I find them a lot more compact, as well as easier to reason about.</li>\n</ul>\n<h3 id=\"1st-swe-interview\">1st SWE Interview</h3>\n<p>I forget what my first question was, but it was pretty easy. The second question, on the other hand, was to <a href=\"https://leetcode.com/problems/serialize-and-deserialize-binary-tree/\">serialize and deserialize a binary tree</a>:</p>\n<blockquote>\n<p>Design an algorithm to serialize and deserialize a binary tree. There is no restriction on how your serialization/deserialization algorithm should work. You just need to ensure that a binary tree can be serialized to a string and this string can be deserialized to the original tree structure.</p>\n</blockquote>\n<p>This is a Leetcode-hard question, but it can be fairly easily solved with recursion in both the <code>serialize()</code> and <code>deserialize()</code> methods.</p>\n<h3 id=\"pe-coding-interview\">PE Coding Interview</h3>\n<p>The question was how to find <a href=\"https://leetcode.com/problems/kth-largest-element-in-an-array/\"><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span>-th largest element in an array</a>, which is a medium problem.</p>\n<p>I first solved the solution by sorting the array, then picking the item at index <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">k - 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.77777em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span></span>, which would be <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n \\log n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></span>.</p>\n<p>Then, the interviewer asked me how I could improve it. I responded by rewriting it to use a min heap as a sort of running tally of top-<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span> elements, which would make it <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>k</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n \\log k)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mclose\">)</span></span></span></span></span>.</p>\n<p>Then, he asked, “what if you have 50 elements and you want to get the 49th?” to which I responded by reframing the problem not as the <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span>-th largest, but as the <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>n</mi><mo>−</mo><mi>k</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(n - k)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mclose\">)</span></span></span></span></span>-th smallest and using a max heap. Next, I made the algorithm decide which problem to solve based on if <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi><mo>></mo><mfrac><mi>n</mi><mn>2</mn></mfrac></mrow><annotation encoding=\"application/x-tex\">k > \\frac{n}{2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.73354em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.040392em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.695392em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span>, making the problem <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>min</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>k</mi><mo separator=\"true\">,</mo><mi>n</mi><mo>−</mo><mi>k</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n \\log \\min(k, n - k))</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\">min</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mclose\">))</span></span></span></span></span>.</p>\n<h3 id=\"mock-interview\">Mock Interview</h3>\n<p>The first question given here was the <a href=\"https://leetcode.com/problems/word-search/\">word search</a> problem, which is LeetCode medium:</p>\n<blockquote>\n<p>Given an <code>m</code> x <code>n</code> grid of characters board and a string word, return <code>true</code> if word exists in the grid.</p>\n<p>The word can be constructed from letters of sequentially adjacent cells, where adjacent cells are horizontally or vertically neighboring. The same letter cell may not be used more than once.</p>\n</blockquote>\n<p>They also asked a similar problem, where instead of returning <code>true</code>, you return the number of times it shows up.</p>\n<h3 id=\"2nd-swe-interview\">2nd SWE Interview</h3>\n<p>I was asked to design a Tic-Tac-Toe game. This question is locked behind Leetcode Premium, but <a href=\"https://aaronice.gitbook.io/lintcode/data_structure/design-tic-tac-toe\">other sites</a> seem to say it’s a medium problem.</p>\n<blockquote>\n<p>Design a Tic-tac-toe game that is played between two players on a <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi><mo>×</mo><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n \\times n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.66666em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span></span> grid.\nYou may assume the following rules:</p>\n<ol>\n<li>A move is guaranteed to be valid and is placed on an empty block.</li>\n<li>Once a winning condition is reached, no more moves is allowed.</li>\n<li>A player who succeeds in placing n of their marks in a horizontal, vertical, or diagonal row wins the game.</li>\n</ol>\n</blockquote>\n<h2 id=\"the-systems-interview\">The Systems Interview</h2>\n<p>Now, this interview was <em>hard</em>. The coding ones may have been a bit difficult, but at least I knew what I was doing then! Here, I felt like I was being asked <strong>very</strong> detailed questions about stuff, like they were testing the limits of my knowledge.</p>\n<p>According to previous interviewees and Facebook’s production engineering splash page, the Systems Interview covers, among other things:</p>\n<ul>\n<li>Linux/Unix: how it manages processes and memory and user-space and kernel-space and more things</li>\n<li>Databases, of SQL and NoSQL variety</li>\n<li>Networking, like load-balancing and stuff</li>\n<li>Web services</li>\n</ul>\n<p>I crammed very hard in the weeks before this interview, and even when I showed up to the interview, I felt a bit uncomfortable.</p>\n<h3 id=\"vmstat\"><code>vmstat</code></h3>\n<p>The first problem was to interpret the output of a call to <code>vmstat</code>, which looks something like this (note: output is from my computer and not what was actually presented to me):</p>\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">procs  -------------memory---------- ---swap-- -----io---- -system-- ------cpu-----\n r  b   swpd     free   buff   cache   si   so    bi    bo   in   cs us sy id wa st\n 0  0      0 21279144 209800 4413888    0    0    36    14  207  500  6  1 92  0  0\n 0  0      0 21406776 209800 4285952    0    0     0     0 1406 3826  4  1 95  0  0\n 0  0      0 21519508 209808 4173476    0    0     0   524 1283 3609  4  1 95  0  0\n 0  0      0 21519760 209816 4173412    0    0     0    56 1197 2708  6  1 93  0  0\n 0  0      0 21519760 209816 4173412    0    0     0   548 1260 2882  5  1 94  0  0</code></pre></div>\n<p>I didn’t know what any of the 2-letter things meant, I use <code>top</code>! At first, I pretended to know, and simply guessed what it all meant. But luckily, it seems that the interviewer realized I was struggling partway through, and told me that he wasn’t quizzing me on my knowledge of the command, but on what its output meant. So, I was able to ask him what each thing meant.</p>\n<p>Still, that didn’t make it much easier. He asked me very detailed questions, covering topics like:</p>\n<ul>\n<li>Process state, and how operating systems multitask</li>\n<li>Kernel vs. user space, how system calls are made</li>\n<li>Virtual memory, swap memory, when to use it</li>\n<li>What kind of load is it, if there’s more bytes written than bytes read?</li>\n</ul>\n<h3 id=\"database\">Database</h3>\n<p>Eventually, we moved onto the next question. Suppose we have a database that’s been slow lately, and our queries are taking a long time. We suspect it’s the fault of the disk, but how do we figure that out?</p>\n<p>He also asked some related questions, but we pretty much covered the following topics:</p>\n<ul>\n<li>How to fix it if it’s the disk’s fault</li>\n<li>How to tell if queries are slow, how to analyze the way queries are made, poorly-written joins</li>\n<li>Tradeoffs involved in indexing</li>\n<li>Sharding, replication, and the difference between those two</li>\n<li>In-memory caches like Redis, and tradeoffs you would encounter by using those</li>\n</ul>\n<h2 id=\"offer\">Offer!</h2>\n<p>Less than a week after the last interview, I got an email saying that I was offered not one, but <em>both</em> positions! I could only pick one, so I chose Production Engineering. The reason I chose it, despite having gone through a harder interview, was due to several reasons. First, since it was harder, I’ll end up learning more things. Second, I was working on my <a href=\"/projects/plebscale\">homelab</a> at the time, and I find it to be an interesting field of study. Third, I think Facebook would be the best place to do something like Production Engineering, because they offer services to billions of users, and it would be a perfect opportunity to learn about systems at scale that way.</p>\n<p>The internship will be remote, whether or not conditions change. Still, I think it will be a great place for me to gain experience, and I hope to learn a lot of cool stuff!</p>","tags":["cli","coding-test","databases","devops","facebook","internship","job-interview","linux"]}},"__N_SSG":true}