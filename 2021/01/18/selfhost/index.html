<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link title="astrid.tech RSS" rel="alternate" type="application/rss+xml" href="https://astrid.tech/rss.xml"/><link title="astrid.tech Atom" rel="alternate" type="application/atom+xml" href="https://astrid.tech/atom.xml"/><link title="astrid.tech JSON feed" rel="alternate" type="application/feed+json" href="https://astrid.tech/feed.json"/><link href="https://github.com/astralbijection" rel="me authn"/><link href="mailto:astrid@astrid.tech" rel="me"/><title>Simple Self-Hosting with Docker | astrid.tech</title><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="description" content="&quot;But it works on my computer!&quot; &quot;Then we&#x27;ll ship your computer.&quot;
"/><meta name="twitter:card" content="summary"/><meta name="twitter:creator" content="astralbijection"/><meta name="twitter:title" content="Simple Self-Hosting with Docker"/><meta name="twitter:description" content="&quot;But it works on my computer!&quot; &quot;Then we&#x27;ll ship your computer.&quot;
"/><meta property="og:title" content="Simple Self-Hosting with Docker"/><meta property="og:description" content="&quot;But it works on my computer!&quot; &quot;Then we&#x27;ll ship your computer.&quot;
"/><meta property="og:type" content="website"/><meta name="robots" content="follow,index"/><meta property="og:url" content="https:/astrid.tech/2021/01/18/selfhost"/><link title="astrid.tech RSS" rel="alternate" type="application/rss+xml" href="https://astrid.tech/rss.xml"/><link title="astrid.tech Atom" rel="alternate" type="application/atom+xml" href="https://astrid.tech/atom.xml"/><link title="astrid.tech JSON feed" rel="alternate" type="application/feed+json" href="https://astrid.tech/feed.json"/><link href="https://github.com/astralbijection" rel="me authn"/><link href="mailto:astrid@astrid.tech" rel="me"/><meta name="next-head-count" content="23"/><link rel="preload" href="/_next/static/css/1d0d198a1c5bdedcad14.css" as="style"/><link rel="stylesheet" href="/_next/static/css/1d0d198a1c5bdedcad14.css" data-n-g=""/><link rel="preload" href="/_next/static/css/bd89e56ee668535d8996.css" as="style"/><link rel="stylesheet" href="/_next/static/css/bd89e56ee668535d8996.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-e7a279300235e161e32a.js"></script><script src="/_next/static/chunks/webpack-3071412ed8bc8fc49fc7.js" defer=""></script><script src="/_next/static/chunks/framework-2f612445bd50b211f15a.js" defer=""></script><script src="/_next/static/chunks/main-6bd02c179f9e0ec2bd5a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-1658794de36b29c002aa.js" defer=""></script><script src="/_next/static/chunks/545f34e4-37710c009d2bbbd273c3.js" defer=""></script><script src="/_next/static/chunks/0c428ae2-571001351e1ed221a25c.js" defer=""></script><script src="/_next/static/chunks/1bfc9850-fc4f6c929a53a9b582f6.js" defer=""></script><script src="/_next/static/chunks/398-1b9f48eb99654eeda62b.js" defer=""></script><script src="/_next/static/chunks/264-b52c4cdeb9e69930784f.js" defer=""></script><script src="/_next/static/chunks/146-41f4f1c63257555b1b33.js" defer=""></script><script src="/_next/static/chunks/993-2df73c7cf8296f032349.js" defer=""></script><script src="/_next/static/chunks/705-c9d82552f3ea55b2fe7a.js" defer=""></script><script src="/_next/static/chunks/pages/%5Byear%5D/%5Bmonth%5D/%5Bday%5D/%5B...slug%5D-e11dd750811444406993.js" defer=""></script><script src="/_next/static/xu5MpDjzYRyNj4te1Gtrv/_buildManifest.js" defer=""></script><script src="/_next/static/xu5MpDjzYRyNj4te1Gtrv/_ssgManifest.js" defer=""></script></head><body><div id="__next"><nav class="main-navbar navbar navbar-expand-md fixed-top"><a href="/" class="nav-link navbar-brand">astrid.tech</a><button aria-label="Toggle navigation" type="button" class="navbar-toggler"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M250.97 29.357c-106.557-.21-211.806 52.74-203.48 164.053 138.91 11.4 276.71 8.893 414.174.662 10.58-107.69-100.753-164.498-210.693-164.715zm59.876 23.996c11.165 0 20.216 4.468 20.216 9.98 0 5.513-9.051 9.981-20.216 9.981-11.166 0-20.217-4.468-20.217-9.98 0-5.513 9.051-9.98 20.217-9.98zm-111.852 19.83c11.165 0 20.217 4.469 20.217 9.98 0 5.513-9.052 9.981-20.217 9.981s-20.216-4.468-20.217-9.98c0-5.512 9.052-9.98 20.217-9.98zm178.057 34.02c11.165 0 20.216 4.468 20.217 9.98 0 5.512-9.052 9.98-20.217 9.98s-20.217-4.468-20.217-9.98c0-5.512 9.052-9.98 20.217-9.98zm-273.59 21.535c11.165 0 20.216 4.468 20.217 9.98 0 5.513-9.052 9.98-20.217 9.98s-20.217-4.467-20.217-9.98c0-5.512 9.052-9.98 20.217-9.98zm313.77 30.043c11.165 0 20.216 4.468 20.216 9.98 0 5.512-9.051 9.98-20.217 9.98-11.165 0-20.216-4.468-20.216-9.98 0-5.512 9.051-9.98 20.216-9.98zm-137.91 8.045c11.166 0 20.218 4.47 20.216 9.982 0 5.512-9.051 9.98-20.217 9.98-11.165 0-20.216-4.468-20.216-9.98-.002-5.513 9.05-9.982 20.216-9.982zM57.618 212.339c-18.964.405-9.028 24.485 14.383 24.573 128.554 10.208 236.673 9.686 372.117-2.42 16.096-2.708 25.212-13.087 10.824-21.969-131.579 7.67-263.81 10.045-397.324-.184zm403.024 40.612c-131.224 13.6-277.594 10.525-390.065 1.904-46.983-6.226-47.875 46.785-17.014 52.309 146.18 14.663 271.826 10.735 415.137-.53 25.007-1.144 14.554-55.328-8.058-53.683zM20.986 366.679l15.332 9.434c6.342-8.416 17.876-32.05 33.319-32.192 19.122-.174 22.345 39.302 41.98 39.103 22.607-.228 37.828-31.548 52.447-30.882 22.09 1.008 26.333 35.9 43.557 35.928 24.089.04 31.439-36.39 46.805-35.334 21.458 1.475 33.246 28.274 50.879 29.178 19.004.974 30.654-33.027 43.265-32.748 16.61.366 28.31 32.46 54.24 33.193 15.345.434 29.694-37.411 37.005-36.815 14.417 1.174 26.549 20.548 36.085 34.835l15.114-9.776c-12.029-16.216-30.117-44.428-52.558-44.017-20.907.382-25.948 38.114-38.102 37.943-23.28-.328-33.756-32.164-52.598-33.346-19.356-1.214-30.475 33.636-43.353 32.768-18.954-1.277-27.303-29.16-49.475-29.917-19.62-.67-34.121 37.669-46.793 36.044-18.139-2.326-20.226-36.378-43.317-37.836-19.11-1.207-37.562 30.604-50.314 29.999-17.525-.833-25.243-40.224-45.41-39.986-21.826.258-39.145 30.34-48.108 44.424zm47.553 36.174c-8.342.686-18.198 4.251-21.85 12.424-2.452 6.662 19.173 8.558 21.114 8.695 128.615 8.104 254.354 8.26 389.8-1.345 9.225-.655 13.935-3.147 15.252-4.414 3.124-8.208-23.168-13.935-25.818-14.004-185.01-1.178-279.257 2.209-378.498-1.356zm395.555 37.192c-126.786 6.957-283.18 9.384-408.123.707l.521 38.67c135.917 4.617 275.647 3.99 406.658-.088z"></path></svg></button><div class="collapse navbar-collapse"><a class="nav-link" href="/projects/">Projects</a><a class="nav-link active" href="/latest/">Blog</a><div class="navbar-separator"></div><a class="nav-link" href="/about/">About</a></div></nav><div class="root-wrapper expand-height"><div class="text-light large" style="background-color:black;margin:0;padding:15px;padding-left:30px;padding-right:30px"><p style="text-align:center;margin:0"><b>Black Lives Matter.</b> Please consider donating to the<!-- --> <a href="https://www.paypal.me/SLOBailFund">San Luis Obispo, CA Bail Fund</a> <!-- -->or <a href="https://bailfunds.github.io">other bail funds</a> so we can make the world a just and equitable place for all people of all colors.</p></div><div style="background-color:#e6b3e1"><nav class="page-heading_above__2RV0m"></nav><header class="page-heading_header__zwjn1"><h1>Simple Self-Hosting with Docker</h1><p>&quot;But it works on my computer!&quot; &quot;Then we&#x27;ll ship your computer.&quot;
</p></header></div><div class="longform-layout_container__1bKFt container"><div class="row"><div class="longform-layout_content__gfokN col-lg-8"><article class="longform"><article class="longform"><div><p>Setting servers up is a pain in the ass. There‚Äôs so many installation steps for each service, and then there‚Äôs the potential for conflicting services, and then when you have to set everything up again due to migration or something like that, you give up because it‚Äôs just so much manual work. Luckily, I have Docker to make things less difficult.</p>
<!-- -->
<p>On my VPS, I‚Äôm running several dockerized self-hosted apps right now, including:</p>
<ul>
<li>api.astrid.tech, the backend to this website that I was talking about <a href="/2020/12/20/backend">last issue</a></li>
<li><a href="https://caddyserver.com/">Caddy</a> as the reverse proxy for everything</li>
<li><a href="https://github.com/zadam/trilium">Trilium Notes</a>, on <a href="https://notes.astrid.tech/">notes.astrid.tech</a>, and password-protected so you can‚Äôt access it &gt;:(</li>
<li><a href="https://openvpn.net/">OpenVPN</a>, on vpn.astrid.tech</li>
<li><a href="https://www.firefly-iii.org/">Firefly III</a>, on the OpenVPN network</li>
<li><a href="https://www.keycloak.org/">Keycloak</a>, which I haven‚Äôt figured out how to use for authentication yet</li>
<li><a href="https://www.dokuwiki.org/dokuwiki">DokuWiki</a>, on <a href="https://wiki.dnd.astrid.tech/">wiki.dnd.astrid.tech</a>, for keeping track of the D&amp;D campaign I‚Äôm running and possibly future ones too</li>
</ul>
<p>These are all configured with the <a href="https://github.com/astralbijection/astrid.tech-deployment">IaC repo here</a>. The last commit before I published this article was <a href="https://github.com/astralbijection/astrid.tech-deployment/tree/56e26b678b5c14026da32e920f4804554fcdcf9e">commit 56e26b</a>.</p>
<h2 id="organization">Organization</h2>
<p>Every app gets its own docker-compose file and folder. This makes it easy for me to test that everything runs and is configured correctly on my local machine. Once I‚Äôm done with ensuring that I didn‚Äôt royally fuck up the configs, I‚Äôm probably 80% of the way there. I can push to the git repo and run the app in production.</p>
<h2 id="networks">Networks</h2>
<p>Every app gets its own internal network for compartmentalization. However, there are a couple of shared networks that I‚Äôm using for specific purposes:</p>
<ul>
<li><code>proxied</code>: This network includes the Caddy proxy server and every app with a web interface.</li>
<li><code>vpn</code>: This network includes the OpenVPN server and every app that I want to restrict.</li>
</ul>
<h2 id="where-to-go-from-here">Where to go from here?</h2>
<p>I have a whole checklist of things I want to try next.</p>
<ol>
<li>
<p><strong>Recomission my old laptop into a server hooked up to the VPN.</strong> This will allow me to cheaply and relatively securely extend the functionalities of my infrastructure.</p>
</li>
<li>
<p><strong>Proper centralized logging.</strong> I will run <a href="https://www.elastic.co/beats/filebeat">FileBeat</a> and possibly a few other <a href="https://www.elastic.co/beats/">Beats</a> on the VPS, then run and an <a href="https://www.elastic.co/what-is/elk-stack">ELK stack</a> on the laptop. I‚Äôm doing it this way instead of just running ELK on the VPS mostly for performance reasons; from what I‚Äôve heard, ElasticSearch is a memory and CPU hog. There‚Äôs some nice security benefits that come with that too, because (in theory) it will be hard to get to my laptop.</p>
<a href="/_/2021/01/18/selfhost/planned-infra.svg"><img src="/_/2021/01/18/selfhost/planned-infra.svg" alt="The infrastructure will probably look like this at some point." width="1200"/></a>
</li>
<li>
<p><strong>Actually set up backups.</strong> I don‚Äôt know how I‚Äôm planning on doing this, but I imagine it‚Äôs probably best to do it on my VPN-connected laptop as well. You might notice that there‚Äôs a lot dependent on the VPN laptop.</p>
</li>
<li>
<p><strong>Expand the network.</strong> I learned from someone at the <a href="https://cplug.org/">Cal Poly Linux Users Group</a> that Oracle gives you <a href="https://www.oracle.com/cloud/free/">two free 1GB 1-core</a> VPSes, along with 2 databases, a bunch of storage, and a load balancer! I can definitely move my OpenVPN server to one of these, for further compartmentalization of my network. As for the other one, I‚Äôll have to figure something else to run on that.</p>
</li>
<li>
<p><strong>Further expand the network.</strong> I estimate I have around 4 non-zero Raspberry Pis lying around my room (I think there‚Äôs a 2B, 3B, 3B, and 3B+, but don‚Äôt quote me on that). One of those is being used for OctoPrint, but suppose I were to cluster the other three and run god knows what on them‚Ä¶</p>
</li>
<li>
<p><strong>Learn Kubernetes.</strong> If I‚Äôve accomplished steps (1) and (4), then I‚Äôll have 4 different machines I‚Äôm working with. Step (5) will mean I have 7 machines. It might be a good idea to learn how to Kubernetes. I think I can do it with step (5).</p>
</li>
<li>
<p><strong>Self-host MOAR apps!</strong> Server management is painful sometimes, but it‚Äôs really fun! The end product is a complicated, well-functioning system that works, and that‚Äôs always really satisfying.</p>
</li>
</ol></div></article></article></div><div class="col-lg-4"><div class="longform-layout_sidebarGroup__1maJR"><table style="width:100%"><tbody><tr><th style="min-width:180px"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"></path></svg> <!-- -->Date</th><td class="longform-layout_statusData__1GlEa">18 Jan 2021</td></tr></tbody></table></div><div class="longform-layout_sidebarGroup__1maJR"><h2>Tags</h2><div><p style="font-size:12pt;margin-bottom:3px"><a href="/t/devops"><span style="background-color:#47e000;color:#000000;cursor:pointer" class="tag_tag__1JK8b p-category badge badge-secondary">devops</span></a><a href="/t/docker"><span style="background-color:#2391E6;color:#ffffff;cursor:pointer" class="tag_tag__1JK8b p-category badge badge-secondary">Docker</span></a><a href="/t/server"><span style="background-color:#00a851;color:#ffffff;cursor:pointer" class="tag_tag__1JK8b p-category badge badge-secondary">server</span></a> </p></div></div></div></div></div><div class="container"><section id="comments"><h2>Comments</h2><div class="comments"><div><form class=""><div class="row form-group"><label for="comment-name" class="col-sm-4 col-form-label">Name (leave blank for anonymous)</label><div class="col-sm-8"><input type="text" name="name" id="comment-name" placeholder="Willy Shakespeare" class="form-control"/></div></div><div class="row form-group"><label for="comment-email" class="col-sm-4 col-form-label">Email (required)</label><div class="col-sm-8"><input type="email" name="email" id="comment-email" placeholder="user@example.com" class="form-control"/></div></div><div class="row form-group"><label for="comment-website" class="col-sm-4 col-form-label">Website</label><div class="col-sm-8"><input type="url" name="website" id="comment-website" placeholder="my.cool.site" class="form-control"/></div></div><div class="form-group"><label for="comment-body" class="">Comment (<!-- -->1000<!-- --> chars left)</label><textarea name="body" id="comment-body" placeholder="Type your comment here..." class="form-control"></textarea><small class="form-text text-muted">Markdown formatting is supported.</small></div><div class="row"><button type="button" class="btn btn-primary">Submit!</button></div></form></div></div></section></div></div><footer class="footer_footer__1KZqX"><div class="text-light small container"><div class="col"><nav class="row"><div class="col-6 col-sm-4"><a href="/privacy/">Privacy Policy</a></div><div class="col-6 col-sm-4"><a href="/licenses/">Open Source Licenses</a></div><div class="col-6 col-sm-4"><a href="/about/">About/Contact</a></div></nav></div><div class="col"><p>astrid.tech v<!-- -->2.0.0<!-- --> was created by Astrid Yu with a generous helping of <span title="tea" aria-label="tea" role="img">‚òï</span> and <span title="witchcraft" aria-label="witchcraft" role="img">üßô‚Äç</span>. See the<!-- --> <a href="/projects/astrid-tech/">self-referential project page</a> <!-- -->or see the code yourself on<!-- --> <a href="https://github.com/astralbijection/astrid.tech">GitHub</a>.</p></div><div class="row"><div class="col"></div></div><div class="row"><div class="text-center col"><a href="https://www.gnu.org/licenses/agpl-3.0.en.html"><img alt="GNU Affero General Public License" width="100" height="40" src="/agpl.png"/></a><p><a href="https://github.com/astralbijection/astrid.tech">The source code of astrid.tech</a> <!-- -->is licensed under the<!-- --> <a href="https://www.gnu.org/licenses/agpl-3.0.en.html">AGPL License</a>.<!-- --> </p></div><div class="text-center col"><p><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"/></a><br/><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">The page content of astrid.tech</span> <!-- -->by<!-- --> <a xmlns:cc="http://creativecommons.org/ns#" href="https://astrid.tech" property="cc:attributionName" rel="cc:attributionURL">Astrid Yu</a> <!-- -->is licensed under a<!-- --> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.</p></div></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":9,"assetRoot":"2021/01/18/selfhost","thumbnail":null,"title":"Simple Self-Hosting with Docker","description":"\"But it works on my computer!\" \"Then we'll ship your computer.\"\n","slug":"selfhost","date":"2021-01-18T15:49:00.000Z","content":"\u003cp\u003eSetting servers up is a pain in the ass. There‚Äôs so many installation steps for each service, and then there‚Äôs the potential for conflicting services, and then when you have to set everything up again due to migration or something like that, you give up because it‚Äôs just so much manual work. Luckily, I have Docker to make things less difficult.\u003c/p\u003e\n\u003c!-- excerpt --\u003e\n\u003cp\u003eOn my VPS, I‚Äôm running several dockerized self-hosted apps right now, including:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eapi.astrid.tech, the backend to this website that I was talking about \u003ca href=\"/2020/12/20/backend\"\u003elast issue\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://caddyserver.com/\"\u003eCaddy\u003c/a\u003e as the reverse proxy for everything\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/zadam/trilium\"\u003eTrilium Notes\u003c/a\u003e, on \u003ca href=\"https://notes.astrid.tech/\"\u003enotes.astrid.tech\u003c/a\u003e, and password-protected so you can‚Äôt access it \u003e:(\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://openvpn.net/\"\u003eOpenVPN\u003c/a\u003e, on vpn.astrid.tech\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.firefly-iii.org/\"\u003eFirefly III\u003c/a\u003e, on the OpenVPN network\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.keycloak.org/\"\u003eKeycloak\u003c/a\u003e, which I haven‚Äôt figured out how to use for authentication yet\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.dokuwiki.org/dokuwiki\"\u003eDokuWiki\u003c/a\u003e, on \u003ca href=\"https://wiki.dnd.astrid.tech/\"\u003ewiki.dnd.astrid.tech\u003c/a\u003e, for keeping track of the D\u0026#x26;D campaign I‚Äôm running and possibly future ones too\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThese are all configured with the \u003ca href=\"https://github.com/astralbijection/astrid.tech-deployment\"\u003eIaC repo here\u003c/a\u003e. The last commit before I published this article was \u003ca href=\"https://github.com/astralbijection/astrid.tech-deployment/tree/56e26b678b5c14026da32e920f4804554fcdcf9e\"\u003ecommit 56e26b\u003c/a\u003e.\u003c/p\u003e\n\u003ch2 id=\"organization\"\u003eOrganization\u003c/h2\u003e\n\u003cp\u003eEvery app gets its own docker-compose file and folder. This makes it easy for me to test that everything runs and is configured correctly on my local machine. Once I‚Äôm done with ensuring that I didn‚Äôt royally fuck up the configs, I‚Äôm probably 80% of the way there. I can push to the git repo and run the app in production.\u003c/p\u003e\n\u003ch2 id=\"networks\"\u003eNetworks\u003c/h2\u003e\n\u003cp\u003eEvery app gets its own internal network for compartmentalization. However, there are a couple of shared networks that I‚Äôm using for specific purposes:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eproxied\u003c/code\u003e: This network includes the Caddy proxy server and every app with a web interface.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003evpn\u003c/code\u003e: This network includes the OpenVPN server and every app that I want to restrict.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"where-to-go-from-here\"\u003eWhere to go from here?\u003c/h2\u003e\n\u003cp\u003eI have a whole checklist of things I want to try next.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eRecomission my old laptop into a server hooked up to the VPN.\u003c/strong\u003e This will allow me to cheaply and relatively securely extend the functionalities of my infrastructure.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eProper centralized logging.\u003c/strong\u003e I will run \u003ca href=\"https://www.elastic.co/beats/filebeat\"\u003eFileBeat\u003c/a\u003e and possibly a few other \u003ca href=\"https://www.elastic.co/beats/\"\u003eBeats\u003c/a\u003e on the VPS, then run and an \u003ca href=\"https://www.elastic.co/what-is/elk-stack\"\u003eELK stack\u003c/a\u003e on the laptop. I‚Äôm doing it this way instead of just running ELK on the VPS mostly for performance reasons; from what I‚Äôve heard, ElasticSearch is a memory and CPU hog. There‚Äôs some nice security benefits that come with that too, because (in theory) it will be hard to get to my laptop.\u003c/p\u003e\n\u003cimg src=\"/_/2021/01/18/selfhost/planned-infra.svg\" alt=\"The infrastructure will probably look like this at some point.\"\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eActually set up backups.\u003c/strong\u003e I don‚Äôt know how I‚Äôm planning on doing this, but I imagine it‚Äôs probably best to do it on my VPN-connected laptop as well. You might notice that there‚Äôs a lot dependent on the VPN laptop.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eExpand the network.\u003c/strong\u003e I learned from someone at the \u003ca href=\"https://cplug.org/\"\u003eCal Poly Linux Users Group\u003c/a\u003e that Oracle gives you \u003ca href=\"https://www.oracle.com/cloud/free/\"\u003etwo free 1GB 1-core\u003c/a\u003e VPSes, along with 2 databases, a bunch of storage, and a load balancer! I can definitely move my OpenVPN server to one of these, for further compartmentalization of my network. As for the other one, I‚Äôll have to figure something else to run on that.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eFurther expand the network.\u003c/strong\u003e I estimate I have around 4 non-zero Raspberry Pis lying around my room (I think there‚Äôs a 2B, 3B, 3B, and 3B+, but don‚Äôt quote me on that). One of those is being used for OctoPrint, but suppose I were to cluster the other three and run god knows what on them‚Ä¶\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eLearn Kubernetes.\u003c/strong\u003e If I‚Äôve accomplished steps (1) and (4), then I‚Äôll have 4 different machines I‚Äôm working with. Step (5) will mean I have 7 machines. It might be a good idea to learn how to Kubernetes. I think I can do it with step (5).\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eSelf-host MOAR apps!\u003c/strong\u003e Server management is painful sometimes, but it‚Äôs really fun! The end product is a complicated, well-functioning system that works, and that‚Äôs always really satisfying.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e","tags":["devops","docker","server"]}},"__N_SSG":true},"page":"/[year]/[month]/[day]/[...slug]","query":{"year":"2021","month":"01","day":"18","slug":["selfhost"]},"buildId":"xu5MpDjzYRyNj4te1Gtrv","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>